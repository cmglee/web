<!DOCTYPE html>
<html>
 <head>
  <title>Solar System scale model calculator by CMG Lee</title>
  <style type="text/css">
body     { font:99% Tahoma,sans-serif; color:#000000; background:#ffffff; }
table    { border-collapse:collapse; }
th, td   { border:1px solid #cccccc; padding:0; text-align:center; }
input    { text-align:right; width:10ex; }
.name    { text-align:left; padding:0 1ex; }
.average { font-weight:bold; }
.type0   { font-weight:bold; }
.type2   { font-style:italic; }
  </style>
  <script type="text/javascript">

var scale  = 1e9;
var datass = [];
function init() {
 var html_table = '';
 var rows = document.getElementById('data').value.trim().split('\n');
 for (var i_row = 0; i_row < rows.length; ++i_row) {
  var datas    = [];
  var html_row = '';
  var type;
  var fields = rows[i_row].split('|');
  for (var i_field = 0; i_field < fields.length; ++i_field) {
   var field = fields[i_field].trim();
   if (i_field == 0) { type = parseInt(field);
   } else {
    if (i_field == 1) {
     var pad = '';
     for (var i_pad = 0; i_pad < type; ++i_pad) { pad += '&nbsp;&nbsp;'; }
     html_row += '<td class="name type' + type + '">' + pad + field + '</td>';
    } else {
     if (field == '-') { html_row += '<td>&#8212;</td>'; }
     else {
      name      = 'i' + i_row + '_' + i_field;
      html_row += '<td><input id="' + name + '" ' + (i_field % 3 == 0 ? ' class="average"' : '') +
                  ' onchange="update_scale(\'' + name + '\')" />';
     }
    }
   }
   datas.push(i_field == 0 ? parseInt(field) : i_field == 1 ? field :
              parseFloat(field) * (i_field < 5 ? 1 : 2));
  }
  datass.push(datas);
  html_table += '<tr>' + html_row + '</tr>';
 }
 document.getElementById('table').innerHTML = '<table>' +
  '<tr><th colspan="8" style="padding:1ex;">Scale = 1 :' +
  ' <input id="scale" style="width:20ex;" onchange="update_table();"/></th></tr>' +
  '<tr><th rowspan="2" style="width:1ex;">Body</th>' +
  '<th colspan="3">Distance from parent* (m)</th><td rowspan="' + (rows.length + 2) +
  '">&nbsp;</td><th colspan="3">Diameter (mm)</th></tr>' +
  '<td>Minimum</td><td>Average</td><td>Maximum</td>' +
  '<td>Minimum</td><td>Average</td><td>Maximum</td>' +
  '</tr>' + html_table + '</table>';

 document.getElementById('scale').value = scale.toLocaleString('fr');
 update_table();
}

function update_table() {
 scale = parseFloat(document.getElementById('scale').value.replace(/\s/g, ''));
 for (var i_row = 0; i_row < datass.length; ++i_row) {
  datas = datass[i_row];
  for (var i_field = 2; i_field < datas.length; ++i_field) {
   el_field = document.getElementById('i' + i_row + '_' + i_field);
   if (el_field) {
    el_field.value = (datas[i_field] * (i_field < 5 ? 1e9 : 1e6) /
                      scale).toFixed(i_field < 5 && i_row == datass.length - 1 ? 0 : 1);
   }
  }
 }
}

function update_scale(name) {
 names   = name.split('_');
 i_row   = parseFloat(names[0].substring(1));
 i_field = parseFloat(names[1]);
 document.getElementById('scale').value = parseInt(datass[i_row][i_field] /
  parseFloat(document.getElementById(name).value) * (i_field < 5 ? 1e9 : 1e6)).toLocaleString('fr');
 update_table();
}

// --></script>
 </head>
 <body onLoad="init();">
  <form onSubmit="return false;">
  <h2>Solar System scale model calculator</h2>
   <p>Update any text box and all the others update accordingly<br />
      e.g. set Earth's average diameter to 1 mm, or the moon's average distance to 1 m.</p>
   <div id="table"></div>
   <p>* Proxima Centauri's distance is its distance from the sun.</p>
   <p>&#169; 2022 &#8226; cm&#610;&#671;ee &#8226; CC-BY-SA 4.0</p>
<!--
http://nssdc.gsfc.nasa.gov/planetary/factsheet
http://nssdc.gsfc.nasa.gov/planetary/factsheet/galileanfact_table.html
http://nssdc.gsfc.nasa.gov/planetary/factsheet/sunfact.html
#|NAME|PERI(Gm)|AVG(Gm)|APO(Gm)|POL.RAD(km)|VOL.MEAN RAD(km)|EQ.RAD(km)|DIAM(km)
-->
   <textarea id="data" style="display:none;width:100%;height:5em;">
0|Sun              |     -   |     -   |      -   |     -   |695700    |      -
1|Mercury          |   46.0  |   57.9  |    69.8  | 2438.3  |  2439.7  |  2440.5
1|Venus            |  107.5  |  108.2  |   108.9  | 6051.8  |  6051.8  |  6051.8
1|Earth            |  147.1  |  149.6  |   152.1  | 6356.752|  6371.000|  6378.137
2|Moon             |    0.363|    0.384|     0.406| 1736.0  |  1737.4  |  1738.1
1|Mars             |  206.7  |  228.0  |   249.3  | 3376.2  |  3389.5  |  3396.2
1|Ceres            |  381    |  413    |   446    |  445.9  |   469.73 |   482.2
1|Jupiter          |  740.6  |  778.5  |   816.4  |66854    | 69911    | 71492
2|Io               |    0.420|    0.422|     0.424|     -   |  1821.5  |      -
2|Europa           |    0.664|    0.671|     0.678|     -   |  1560.8  |      -
2|Ganymede         |    1.068|    1.070|     1.072|     -   |  2631.2  |      -
2|Callisto         |    1.870|    1.883|     1.896|     -   |  2410.3  |      -
1|Saturn           | 1357.6  | 1432.0  |  1506.5  |54364    | 58232    | 60268
2|Titan            |    1.186|    1.222|     1.258|     -   |  2575    |      -
1|Uranus           | 2732.7  | 2867.0  |  3001.4  |24973    | 25362    | 25559
1|Neptune          | 4471.1  | 4515.0  |  4558.9  |24341    | 24622    | 24764
2|Triton           |    0.355|    0.355|     0.355|     -   |  1353.4  |      -
1|Pluto            | 4436.8  | 5906.4  |  7375.9  |     -   |  1188    |      -
1|Eris             | 5725    |10125    | 14579    |     -   |  1163    |      -
1|Sedna            |11398    |    -    |140200    |     -   |   500    |      -
0|Proxima Centauri*|     -   |40208e3  |      -   |     -   |107280    |      -
   </textarea>
  </form>
 </body>
</html>
